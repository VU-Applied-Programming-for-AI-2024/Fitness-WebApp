<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../styles/styles.css" />
    <link rel="stylesheet" href="../styles/schedule.styles.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <title>Manual_schedule</title>
  </head>
  <body class="manual_schedule">
    <h1>
      <a href="index.html">
        <img src="../images/logo2.png" style="max-width: 100%; height: auto;">
      </a>
    </h1>
    <br />
    <div class="schedule-center-container">
      <h1>
        <a href="index.html">
              <img src="../images/logo2.png" class="logo" alt="Logo">
          </a>
      </h1>
  
    <nav class="navbar">
      <div class="navbar-links">
        <a href="index.html">Home</a>
        <a href="discover.html">Discover</a>
        <a href="manual_schedule.html">Manual Schedule</a>
        <a href="AIschedule.component.html">AI Schedule</a>
      </div>
    </nav>

      <div class="container" >
        <section class="schedule-description">
          <h1>Schedule</h1>
          <p>Edit your schedule and see statistics for each specific workout</p>
        </section>
        <div class="schedule" id ="schedule">
        </div>
      </div>
      <script>
        // Function to fetch data from Flask endpoint
        async function fetchMockSchedule() {
            try {
                const response = await fetch('http://localhost:5000/mock_schedule');
                if (!response.ok) {
                    throw new Error('Failed to fetch data');
                }
                const data = await response.json();
                displaySchedule(data);  // Call function to display data
            } catch (error) {
                console.error('Error fetching data:', error);
            }
        }
    
        // Function to display schedule data
        function displaySchedule(scheduleData) {
            const scheduleElement = document.getElementById('schedule');
            scheduleData.forEach(day => {
                const dayElement = document.createElement('div');
                dayElement.classList.add('day'); // Add 'day' class for styling
                const dayContent = document.createElement('div');
                dayContent.classList.add('day-content'); // Add 'day-content' class for styling
                const dayText = document.createElement('div');
                dayText.classList.add('day-text'); // Add 'day-text' class for styling
                
                dayText.innerHTML = `<h3>${day.day}</h3>`;
                
                const exercisesList = document.createElement('ul');
                day.exercises.forEach(exercise => {
                    const exerciseItem = document.createElement('li');
                    exerciseItem.textContent = `${exercise.name} - Sets: ${exercise.sets}, Reps: ${exercise.reps}`;
                    exercisesList.appendChild(exerciseItem);
                });
                dayText.appendChild(exercisesList);
                dayContent.appendChild(dayText);
    
                // Add icons and info buttons
                const iconDiv = document.createElement('div');
                iconDiv.classList.add('icon');
    
                const infoLink = document.createElement('a');
                infoLink.href = 'workoutstatistics.html'; // Replace with actual link
                infoLink.target = '_self';
                infoLink.title = 'Workout Statistics';
                infoLink.innerHTML = '<i class="info">i</i>';
                iconDiv.appendChild(infoLink);
    
                const editIcon = document.createElement('i');
                editIcon.classList.add('edit');
                editIcon.textContent = '✏️';
                iconDiv.appendChild(editIcon);
    
                dayContent.appendChild(iconDiv);
                dayElement.appendChild(dayContent);
                scheduleElement.appendChild(dayElement);
            });
        }
    
        // Fetch data when the page loads
        window.onload = fetchMockSchedule;
    </script>
    
      <!-- Link to JavaScript file -->
      <script src="../scripts/scripts.js"></script>
      
  </body>
</html>
